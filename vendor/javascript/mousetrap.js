// mousetrap@1.6.5 downloaded from https://ga.jspm.io/npm:mousetrap@1.6.5/mousetrap.js

var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};(function(r,n,a){if(r){var o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"};var i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};var s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"};var c={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};var l;for(var u=1;u<20;++u)o[111+u]="f"+u;for(u=0;u<=9;++u)o[u+96]=u.toString();Mousetrap.prototype.bind=function(t,r,n){var a=this||e;t=t instanceof Array?t:[t];a._bindMultiple.call(a,t,r,n);return a};Mousetrap.prototype.unbind=function(t,r){var n=this||e;return n.bind.call(n,t,(function(){}),r)};Mousetrap.prototype.trigger=function(t,r){var n=this||e;n._directMap[t+":"+r]&&n._directMap[t+":"+r]({},t);return n};Mousetrap.prototype.reset=function(){var t=this||e;t._callbacks={};t._directMap={};return t};Mousetrap.prototype.stopCallback=function(t,r){var n=this||e;if((" "+r.className+" ").indexOf(" mousetrap ")>-1)return false;if(_belongsTo(r,n.target))return false;if("composedPath"in t&&"function"===typeof t.composedPath){var a=t.composedPath()[0];a!==t.target&&(r=a)}return"INPUT"==r.tagName||"SELECT"==r.tagName||"TEXTAREA"==r.tagName||r.isContentEditable};Mousetrap.prototype.handleKey=function(){var t=this||e;return t._handleKey.apply(t,arguments)};Mousetrap.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);l=null};Mousetrap.init=function(){var e=Mousetrap(n);for(var t in e)"_"!==t.charAt(0)&&(Mousetrap[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))};Mousetrap.init();r.Mousetrap=Mousetrap;t&&(t=Mousetrap)}function _addEvent(e,t,r){e.addEventListener?e.addEventListener(t,r,false):e.attachEvent("on"+t,r)}function _characterFromEvent(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);e.shiftKey||(t=t.toLowerCase());return t}return o[e.which]?o[e.which]:i[e.which]?i[e.which]:String.fromCharCode(e.which).toLowerCase()}function _modifiersMatch(e,t){return e.sort().join(",")===t.sort().join(",")}function _eventModifiers(e){var t=[];e.shiftKey&&t.push("shift");e.altKey&&t.push("alt");e.ctrlKey&&t.push("ctrl");e.metaKey&&t.push("meta");return t}function _preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue=false}function _stopPropagation(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=true}function _isModifier(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function _getReverseMap(){if(!l){l={};for(var e in o)e>95&&e<112||o.hasOwnProperty(e)&&(l[o[e]]=e)}return l}function _pickBestAction(e,t,r){r||(r=_getReverseMap()[e]?"keydown":"keypress");"keypress"==r&&t.length&&(r="keydown");return r}function _keysFromString(e){if("+"===e)return["+"];e=e.replace(/\+{2}/g,"+plus");return e.split("+")}function _getKeyInfo(e,t){var r;var n;var a;var o=[];r=_keysFromString(e);for(a=0;a<r.length;++a){n=r[a];c[n]&&(n=c[n]);if(t&&"keypress"!=t&&s[n]){n=s[n];o.push("shift")}_isModifier(n)&&o.push(n)}t=_pickBestAction(n,o,t);return{key:n,modifiers:o,action:t}}function _belongsTo(e,t){return null!==e&&e!==n&&(e===t||_belongsTo(e.parentNode,t))}function Mousetrap(t){var r=this||e;t=t||n;if(!(r instanceof Mousetrap))return new Mousetrap(t);r.target=t;r._callbacks={};r._directMap={};var a={};var o;var i=false;var s=false;var c=false;function _resetSequences(e){e=e||{};var t=false,r;for(r in a)e[r]?t=true:a[r]=0;t||(c=false)}function _getMatches(e,t,n,o,i,s){var c;var l;var u=[];var f=n.type;if(!r._callbacks[e])return[];"keyup"==f&&_isModifier(e)&&(t=[e]);for(c=0;c<r._callbacks[e].length;++c){l=r._callbacks[e][c];if((o||!l.seq||a[l.seq]==l.level)&&(f==l.action&&("keypress"==f&&!n.metaKey&&!n.ctrlKey||_modifiersMatch(t,l.modifiers)))){var p=!o&&l.combo==i;var d=o&&l.seq==o&&l.level==s;(p||d)&&r._callbacks[e].splice(c,1);u.push(l)}}return u}function _fireCallback(e,t,n,a){if(!r.stopCallback(t,t.target||t.srcElement,n,a)&&false===e(t,n)){_preventDefault(t);_stopPropagation(t)}}r._handleKey=function(e,t,r){var n=_getMatches(e,t,r);var a;var o={};var i=0;var l=false;for(a=0;a<n.length;++a)n[a].seq&&(i=Math.max(i,n[a].level));for(a=0;a<n.length;++a)if(n[a].seq){if(n[a].level!=i)continue;l=true;o[n[a].seq]=1;_fireCallback(n[a].callback,r,n[a].combo,n[a].seq)}else l||_fireCallback(n[a].callback,r,n[a].combo);var u="keypress"==r.type&&s;r.type!=c||_isModifier(e)||u||_resetSequences(o);s=l&&"keydown"==r.type};function _handleKeyEvent(e){"number"!==typeof e.which&&(e.which=e.keyCode);var t=_characterFromEvent(e);t&&("keyup"!=e.type||i!==t?r.handleKey(t,_eventModifiers(e),e):i=false)}function _resetSequenceTimer(){clearTimeout(o);o=setTimeout(_resetSequences,1e3)}function _bindSequence(e,t,r,n){a[e]=0;function _increaseSequence(t){return function(){c=t;++a[e];_resetSequenceTimer()}}function _callbackAndReset(t){_fireCallback(r,t,e);"keyup"!==n&&(i=_characterFromEvent(t));setTimeout(_resetSequences,10)}for(var o=0;o<t.length;++o){var s=o+1===t.length;var l=s?_callbackAndReset:_increaseSequence(n||_getKeyInfo(t[o+1]).action);_bindSingle(t[o],l,n,e,o)}}function _bindSingle(e,t,n,a,o){r._directMap[e+":"+n]=t;e=e.replace(/\s+/g," ");var i=e.split(" ");var s;if(i.length>1)_bindSequence(e,i,t,n);else{s=_getKeyInfo(e,n);r._callbacks[s.key]=r._callbacks[s.key]||[];_getMatches(s.key,s.modifiers,{type:s.action},a,e,o);r._callbacks[s.key][a?"unshift":"push"]({callback:t,modifiers:s.modifiers,action:s.action,seq:a,level:o,combo:e})}}r._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)_bindSingle(e[n],t,r)};_addEvent(t,"keypress",_handleKeyEvent);_addEvent(t,"keydown",_handleKeyEvent);_addEvent(t,"keyup",_handleKeyEvent)}})("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null);var r=t;export default r;

